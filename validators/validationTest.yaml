%YAML 1.2
---
id: '#validationTest'
name: ValidationTest
kind: mapping
tag: tag:yaml.org,2002:map

properties:
  validator: { ref: '#validator' }
  input: {}
  valid:
    kind: scalar
    tag: tag:yaml.org,2002:bool
  failures: &failures
    name: ValidationFailures
    kind: sequence
    tag: tag:yaml.org,2002:seq
    items:
      kind: mapping
      tag: tag:yaml.org,2002:map

      properties:
        path:
          kind: sequence
          tag: tag:yaml.org,2002:seq
          items:
            name: PathEntry
            kind: mapping
            tag: tag:yaml.org,2002:map
            properties:
              type:
                kind: scalar
                tag: tag:yaml.org,2002:str
              index:
                kind: scalar
                tag: tag:yaml.org,2002:int
              key: {}
              value: {}
            requiredProperties: [type]
        key:
          kind: scalar
          tag: tag:yaml.org,2002:str
        children: *failures

      requiredProperties:
        - path
        - key

requiredProperties:
  - validator
  - input
